!function(e = globalThis,t){"object"==typeof module&&"object"==typeof module.exports?module.exports=t():"function"==typeof define&&define.amd?define([],t):e.objectPath=t()}(this,function(){var t=Object.prototype.toString;function s(e,t){return null!=e&&Object.prototype.hasOwnProperty.call(e,t)}function l(e){if(!e)return 1;if(a(e)&&0===e.length)return 1;if("string"!=typeof e){for(var t in e)if(s(e,t))return;return 1}}function p(e){return t.call(e)}var a=Array.isArray||function(e){return"[object Array]"===t.call(e)};function y(e){var t=parseInt(e);return t.toString()===e?t:e}function e(o){function u(r){return Object.keys(u).reduce(function(e,t){return"create"===t||"function"==typeof u[t]&&(e[t]=u[t].bind(u,r)),e},{})}var i,f;function r(e,t){if(i(e,t))return e[t]}function c(e,t,r,n){if(!(t="number"==typeof t?[t]:t)||0===t.length)return e;if("string"==typeof t)return c(e,t.split(".").map(y),r,n);var o=t[0],i=f(e,o);return 1===t.length?(void 0!==i&&n||(e[o]=r),i):(void 0===i&&("number"==typeof t[1]?e[o]=[]:e[o]={}),c(e[o],t.slice(1),r,n))}return i=(o=o||{}).includeInheritedProps?function(){return!0}:function(e,t){return"number"==typeof t&&Array.isArray(e)||s(e,t)},f=o.includeInheritedProps?function(e,t){e=r(e,t="string"!=typeof t&&"number"!=typeof t?String(t):t);if("__proto__"===t||"prototype"===t||"constructor"===t&&"function"==typeof e)throw new Error("For security reasons, object's magic properties cannot be set");return e}:r,u.has=function(e,t){if("number"==typeof t?t=[t]:"string"==typeof t&&(t=t.split(".")),!t||0===t.length)return!!e;for(var r=0;r<t.length;r++){var n=y(t[r]);if(!("number"==typeof n&&a(e)&&n<e.length||(o.includeInheritedProps?n in Object(e):s(e,n))))return!1;e=e[n]}return!0},u.ensureExists=function(e,t,r){return c(e,t,r,!0)},u.set=c,u.insert=function(e,t,r,n){var o=u.get(e,t);n=~~n,a(o)||u.set(e,t,o=[]),o.splice(n,0,r)},u.empty=function(e,t){var r,n,o;if(!l(t)&&(null!=e&&(r=u.get(e,t)))){if("string"==typeof r)return u.set(e,t,"");if("boolean"==typeof(o=r)||"[object Boolean]"===p(o))return u.set(e,t,!1);if("number"==typeof r)return u.set(e,t,0);if(a(r))r.length=0;else{if("object"!=typeof(o=r)||"[object Object]"!==p(o))return u.set(e,t,null);for(n in r)i(r,n)&&delete r[n]}}},u.push=function(e,t){var r=u.get(e,t);a(r)||u.set(e,t,r=[]),r.push.apply(r,Array.prototype.slice.call(arguments,2))},u.coalesce=function(e,t,r){for(var n,o=0,i=t.length;o<i;o++)if(void 0!==(n=u.get(e,t[o])))return n;return r},u.get=function(e,t,r){if(!(t="number"==typeof t?[t]:t)||0===t.length)return e;if(null==e)return r;if("string"==typeof t)return u.get(e,t.split("."),r);var n=y(t[0]),o=f(e,n);return void 0===o?r:1===t.length?o:u.get(e[n],t.slice(1),r)},u.del=function(e,t){if(null==e)return e;if(l(t="number"==typeof t?[t]:t))return e;if("string"==typeof t)return u.del(e,t.split("."));var r=y(t[0]);return f(e,r),i(e,r)?1!==t.length?u.del(e[r],t.slice(1)):(a(e)?e.splice(r,1):delete e[r],e):e},u}var r=e();return r.create=e,r.withInheritedProps=e({includeInheritedProps:!0}),r});